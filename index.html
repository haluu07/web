<!doctype html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gá»­i Ä‘áº¿n emğŸ’–</title>
    <style>
      /* 
         * Cáº¤U HÃŒNH GIAO DIá»†N CHUNG
         * - Font chá»¯: Dancing Script (má»m máº¡i, lÃ£ng máº¡n)
         * - MÃ u ná»n: Äen (#000)
         * - áº¨n thanh cuá»™n (overflow: hidden) Ä‘á»ƒ táº¡o khÃ´ng gian vÃ´ táº­n
         */
      @import url("https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&display=swap");

      body,
      html {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        background-color: #000;
        overflow: hidden;
        font-family: "Ma Shan Zheng", cursive;
        user-select: none; /* NgÄƒn ngÆ°á»i dÃ¹ng bÃ´i Ä‘en chá»¯ */
      }

      /* 
         * HIá»†U á»¨NG SAO TRá»œI (STAR BACKGROUND)
         * - CÃ¡c ngÃ´i sao sáº½ Ä‘Æ°á»£c táº¡o báº±ng JS vÃ  style táº¡i Ä‘Ã¢y
         */
      .star {
        position: absolute;
        background: white;
        border-radius: 50%;
        opacity: 0.8;
        animation: twinkle 2s infinite ease-in-out alternate;
      }

      @keyframes twinkle {
        from {
          opacity: 0.2;
          transform: scale(0.8);
        }
        to {
          opacity: 1;
          transform: scale(1.2);
        }
      }

      /* 
         * CONTAINER CHO CÃC PHáº¦N Tá»¬ TRÃ”I Ná»”I (TEXT & IMAGES)
         */
      #floating-container {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none; /* Äá»ƒ click xuyÃªn qua xuá»‘ng ná»n */
      }

      /* 
         * STYLE CHO CHá»® TRÃ”I Ná»”I
         * - MÃ u há»“ng neon (#ff69b4, #ff1493)
         * - Hiá»‡u á»©ng bÃ³ng (text-shadow) Ä‘á»ƒ táº¡o cáº£m giÃ¡c phÃ¡t sÃ¡ng
         */
      .floating-text {
        position: absolute;
        color: #ff69b4;
        font-size: 24px;
        text-shadow:
          0 0 10px #ff1493,
          0 0 20px #ff1493;
        white-space: nowrap;
        opacity: 0;
        animation:
          floatUp 15s linear forwards,
          fadeInOut 15s ease-in-out forwards;
      }

      /* 
         * STYLE CHO áº¢NH TRÃ”I Ná»”I
         * - Bo gÃ³c, Ä‘á»• bÃ³ng
         * - Fade in/out
         */
      .floating-image {
        position: absolute;
        width: 250px;
        height: 250px;
        object-fit: cover;
        border-radius: 15px;
        box-shadow: 0 0 15px rgba(255, 105, 180, 0.5);
        opacity: 0;
        animation:
          floatImage 20s linear forwards,
          fadeInOut 20s ease-in-out forwards;
      }

      /* Animation chung cho viá»‡c xuáº¥t hiá»‡n vÃ  biáº¿n máº¥t */
      @keyframes fadeInOut {
        0% {
          opacity: 0;
        }
        10% {
          opacity: 0.8;
        }
        90% {
          opacity: 0.8;
        }
        100% {
          opacity: 0;
        }
      }

      /* Animation bay lÃªn cho chá»¯ */
      @keyframes floatUp {
        from {
          transform: translateY(100vh) scale(0.8);
        }
        to {
          transform: translateY(-10vh) scale(1.1);
        }
      }

      /* Animation bay lÆ¡ lá»­ng cho áº£nh (ngáº«u nhiÃªn hÆ¡n) */
      @keyframes floatImage {
        0% {
          transform: translate(0, 100vh) rotate(0deg);
        }
        100% {
          transform: translate(var(--moveX), -20vh) rotate(360deg);
        }
      }

      /* 
         * MÃ€N HÃŒNH Tá» TÃŒNH (KHI DOUBLE CLICK)
         * - Náº±m giá»¯a mÃ n hÃ¬nh
         * - Ban Ä‘áº§u áº©n (display: none hoáº·c opacity: 0)
         */
      /* 
         * MÃ€N HÃŒNH Tá» TÃŒNH (KHI DOUBLE CLICK)
         * - CÄƒn giá»¯a báº±ng Flexbox Ä‘á»ƒ á»•n Ä‘á»‹nh hÆ¡n, trÃ¡nh bá»‹ lá»‡ch trÃªn mobile
         */
      #love-message {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        z-index: 9999; /* Äáº£m báº£o luÃ´n náº±m trÃªn cÃ¹ng */
        pointer-events: none;
        
        /* Tráº¡ng thÃ¡i áº©n ban Ä‘áº§u */
        opacity: 0;
        transform: scale(0.5);
        transition: all 0.5s ease-out;
      }

      #love-message.show {
        opacity: 1;
        transform: scale(1);
      }

      #love-message h1 {
        font-size: 4rem;
        color: #ff1493;
        text-shadow:
          0 0 20px #ff69b4,
          0 0 40px #ff1493;
        margin: 0;
        margin: 0;
        /* animation: pulse 1.5s infinite; */ /* ÄÃ£ táº¯t hiá»‡u á»©ng nhá»‹p tim Ä‘á»ƒ chá»¯ Ä‘á»©ng yÃªn */
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.1);
        }
        100% {
          transform: scale(1);
        }
      }

      /* HÆ°á»›ng dáº«n nhá» á»Ÿ gÃ³c */
      #hint {
        position: fixed;
        bottom: 20px;
        width: 100%;
        text-align: center;
        color: rgba(255, 192, 203, 0.5);
        font-size: 14px;
        pointer-events: none;
      }
      /* RESPONSIVE CHO ÄIá»†N THOáº I */
      @media screen and (max-width: 768px) {
        /* Chá»¯ thÃ´ng Ä‘iá»‡p chÃ­nh nhá» láº¡i Ä‘á»ƒ khÃ´ng bá»‹ trÃ n mÃ n hÃ¬nh */
        #love-message h1 {
          font-size: 2.5rem;
        }

        /* áº¢nh bay nhá» láº¡i (tá»« 250px -> 120px) Ä‘á»ƒ khÃ´ng che háº¿t mÃ n hÃ¬nh */
        .floating-image {
          width: 120px;
          height: 120px;
        }

        /* Chá»¯ bay nhá» láº¡i má»™t chÃºt */
        .floating-text {
          font-size: 18px !important; /* DÃ¹ng !important Ä‘á»ƒ ghi Ä‘Ã¨ style inline cá»§a JS náº¿u cáº§n */
        }
      }
      /* NÃºt báº­t/táº¯t nháº¡c gÃ³c mÃ n hÃ¬nh */
      #music-control {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 10000;
        background: rgba(255, 105, 180, 0.2);
        border: 1px solid #ff69b4;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        display: flex;
        justify-content: center;
        align-items: center;
        color: #fff;
        font-size: 20px;
        cursor: pointer;
        animation: spin 4s linear infinite;
        /* ChÆ°a quay khi chÆ°a phÃ¡t nháº¡c */
        animation-play-state: paused;
      }

      @keyframes spin {
        100% { transform: rotate(360deg); }
      }

      /* Hiá»‡u á»©ng vá»‡t tim theo chuá»™t */
      .trail-heart {
        position: fixed;
        pointer-events: none;
        color: #ff69b4;
        font-size: 15px;
        animation: fadeUp 1s ease-out forwards;
      }

      @keyframes fadeUp {
        to {
          transform: translateY(-50px) scale(0);
          opacity: 0;
        }
      }
    </style>
  </head>
  <body>
    <!-- Container chá»©a cÃ¡c hiá»‡u á»©ng -->
    <div id="stars"></div>
    <div id="floating-container"></div>

    <!-- ThÃ´ng Ä‘iá»‡p chÃ­nh (áº©n) -->
    <div id="love-message">
      <h1>ç”Ÿå‘½ä¸­æœ‰ä½ ï¼Œæ˜¯æˆ‘æœ€ç¾å¥½çš„äº‹ğŸ’•</h1>
    </div>

    <!-- HÆ°á»›ng dáº«n (tÃ¹y chá»n) -->
    <div id="hint">Cháº¡m vÃ o mÃ n hÃ¬nh nhÃ©... ğŸ’–</div>

    <!-- NÃºt Ä‘iá»u khiá»ƒn nháº¡c -->
    <div id="music-control">ğŸµ</div>

    <!-- Ã‚m thanh ná»n -->
    <!-- LÆ°u Ã½: Thay Ä‘á»•i src thÃ nh Ä‘Æ°á»ng dáº«n nháº¡c cá»§a báº¡n -->
    <audio id="bg-music" loop>
      <source
        src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"
        type="audio/mpeg"
      />
      Your browser does not support the audio element.
    </audio>

    <script>
      /*
       * Cáº¤U HÃŒNH Ná»˜I DUNG
       */
      const messages = [
        "æˆ‘éå¸¸çˆ±ä½  ğŸ’–",
        "æƒ…äººèŠ‚å¿«ä¹ ğŸŒ¹",
        "æ°¸è¿œåœ¨ä¸€èµ·",
        "ä½ æ˜¯æˆ‘æœ€ç¾å¥½çš„é‡è§",
        "æ‰§å­ä¹‹æ‰‹ï¼Œä¸å­å•è€",
        "æˆ‘çš„å¹¸ç¦å°±æ˜¯ä½ ",
        "çˆ±ä½ ä¸‰åƒé â¤ï¸",
        "å®è´ï¼Œæˆ‘çˆ±ä½ ",
        "ä¸€ç”Ÿä¸€ä¸–çˆ±ä½  ğŸ’•",
        "æƒ³é™ªä½ å»å¾ˆè¿œçš„åœ°æ–¹"
      ];

      // DANH SÃCH áº¢NH (Tá»« folder images)
      const images = [
        "images/image1.png",
        "images/image2.png",
        "images/image3.png",
        "images/image4.png",
        "images/image5.png",
        "images/image6.png",
        "images/image7.png",
        "images/image8.png",
        "images/image9.png",
        "images/image10.png",
        "images/image11.png",
        "images/image12.png",
        "images/image13.png"
      ];

      const container = document.getElementById("floating-container");
      const bgMusic = document.getElementById("bg-music");
      const loveMessage = document.getElementById("love-message");
      const hint = document.getElementById("hint");

      /*
       * 1. HIá»†U á»¨NG SAO TRá»œI
       */
      function createStars() {
        const starCount = 150;
        const starContainer = document.getElementById("stars");

        for (let i = 0; i < starCount; i++) {
          const star = document.createElement("div");
          star.classList.add("star");

          // Vá»‹ trÃ­ ngáº«u nhiÃªn
          const x = Math.random() * window.innerWidth;
          const y = Math.random() * window.innerHeight;

          // KÃ­ch thÆ°á»›c ngáº«u nhiÃªn (1px - 3px)
          const size = Math.random() * 2 + 1;

          // Thá»i gian láº¥p lÃ¡nh ngáº«u nhiÃªn
          const duration = Math.random() * 3 + 1;

          star.style.left = `${x}px`;
          star.style.top = `${y}px`;
          star.style.width = `${size}px`;
          star.style.height = `${size}px`;
          star.style.animationDuration = `${duration}s`;

          starContainer.appendChild(star);
        }
      }

      /*
       * 2. Táº O CHá»® BAY LÃŠN
       */
      function createFloatingText() {
        const text = document.createElement("div");
        text.classList.add("floating-text");

        // Chá»n ná»™i dung ngáº«u nhiÃªn
        text.innerText = messages[Math.floor(Math.random() * messages.length)];

        // Vá»‹ trÃ­ xuáº¥t phÃ¡t ngáº«u nhiÃªn theo chiá»u ngang
        text.style.left = Math.random() * 90 + "%"; // 0 - 90%

        // KÃ­ch thÆ°á»›c ngáº«u nhiÃªn
        text.style.fontSize = Math.random() * 20 + 20 + "px"; // 20px - 40px

        // Thá»i gian bay ngáº«u nhiÃªn
        text.style.animationDuration = Math.random() * 5 + 10 + "s"; // 10s - 15s

        container.appendChild(text);

        // XÃ³a element sau khi animation káº¿t thÃºc Ä‘á»ƒ trÃ¡nh náº·ng mÃ¡y
        setTimeout(() => {
          text.remove();
        }, 15000);
      }

      /*
       * 3. Táº O áº¢NH BAY
       */
      function createFloatingImage() {
        const img = document.createElement("img");
        img.classList.add("floating-image");

        // Chá»n áº£nh ngáº«u nhiÃªn
        const randomSrc = images[Math.floor(Math.random() * images.length)];
        img.src = randomSrc;

        // Xá»­ lÃ½ khi áº£nh khÃ´ng tá»“n táº¡i (áº©n Ä‘i Ä‘á»ƒ khÃ´ng hiá»‡n icon lá»—i)
        img.onerror = function() {
          this.style.display = 'none';
        };

        // Vá»‹ trÃ­ xuáº¥t phÃ¡t
        img.style.left = Math.random() * 90 + "%";

        // Random hÆ°á»›ng bay ngang (Ä‘á»ƒ táº¡o cáº£m giÃ¡c trÃ´i tá»± nhiÃªn hÆ¡n)
        const moveX = (Math.random() - 0.5) * 200; // -100px Ä‘áº¿n 100px
        img.style.setProperty("--moveX", `${moveX}px`);

        container.appendChild(img);

        setTimeout(() => {
          img.remove();
        }, 20000);
      }

      /*
       * Xá»¬ LÃ Sá»° KIá»†N NGÆ¯á»œI DÃ™NG
       */

      // Xá»­ lÃ½ chung cho sá»± kiá»‡n Click (Mobile & PC Ä‘á»u dÃ¹ng Ä‘Æ°á»£c)
      document.body.addEventListener("click", () => {
        // 1. Náº¿u nháº¡c chÆ°a phÃ¡t -> PhÃ¡t nháº¡c trÆ°á»›c
        if (bgMusic.paused) {
          bgMusic
            .play()
            .catch((e) => console.log("Cáº§n tÆ°Æ¡ng tÃ¡c Ä‘á»ƒ phÃ¡t nháº¡c"));
            
          // Äá»•i dÃ²ng hÆ°á»›ng dáº«n
          if (hint) hint.innerText = "Cháº¡m thÃªm láº§n ná»¯a Ä‘i... ğŸ’•";
        } 
        // 2. Náº¿u nháº¡c Ä‘Ã£ phÃ¡t (tá»©c lÃ  Ä‘Ã£ click láº§n 1) -> Hiá»‡n thÃ´ng Ä‘iá»‡p
        else {
          loveMessage.classList.add("show");
          createHeartExplosion();
          
          // áº¨n hÆ°á»›ng dáº«n
          if (hint) hint.style.opacity = "0";
        }
      });

      /*
       * HÃ m phá»¥: Hiá»‡u á»©ng tim bay khi double click
       */
      function createHeartExplosion() {
        for (let i = 0; i < 30; i++) {
          const heart = document.createElement("div");
          heart.innerText = "ğŸ’–";
          heart.style.position = "fixed";
          heart.style.left = "50%";
          heart.style.top = "50%";
          heart.style.fontSize = Math.random() * 20 + 20 + "px";
          heart.style.transform = `translate(-50%, -50%)`;
          heart.style.pointerEvents = "none";
          heart.style.transition = "all 1s ease-out";

          document.body.appendChild(heart);

          // KÃ­ch hoáº¡t transition
          requestAnimationFrame(() => {
            const x = (Math.random() - 0.5) * window.innerWidth * 0.5;
            const y = (Math.random() - 0.5) * window.innerHeight * 0.5;
            heart.style.transform = `translate(${x}px, ${y}px) scale(0)`;
            heart.style.opacity = 0;
          });

          setTimeout(() => heart.remove(), 1000);
        }
      }

      /*
       * 5. HIá»†U á»¨NG Vá»†T TIM THEO CHUá»˜T / TAY
       */
      function createTrailHeart(x, y) {
        const heart = document.createElement("div");
        heart.classList.add("trail-heart");
        heart.innerText = "â¤";
        heart.style.left = x + "px";
        heart.style.top = y + "px";
        document.body.appendChild(heart);
        
        setTimeout(() => heart.remove(), 1000);
      }

      // Desktop
      document.addEventListener("mousemove", (e) => {
        // Táº¡o tim khÃ´ng quÃ¡ dÃ y Ä‘áº·c (giáº£m lag)
        if (Math.random() < 0.3) {
           createTrailHeart(e.clientX, e.clientY);
        }
      });
      
      // Mobile
      document.addEventListener("touchmove", (e) => {
        const touch = e.touches[0];
        if (Math.random() < 0.3) {
           createTrailHeart(touch.clientX, touch.clientY);
        }
      });

      /*
       * 6. NÃšT NHáº C
       */
      const musicBtn = document.getElementById("music-control");
      let isPlaying = false;
      
      function toggleMusic() {
        if (isPlaying) {
          bgMusic.pause();
          musicBtn.style.animationPlayState = "paused";
          musicBtn.style.opacity = "0.5";
        } else {
          bgMusic.play().catch(e => console.log("ChÆ°a tÆ°Æ¡ng tÃ¡c"));
          musicBtn.style.animationPlayState = "running";
          musicBtn.style.opacity = "1";
        }
        isPlaying = !isPlaying;
      }
      
      musicBtn.addEventListener("click", (e) => {
        e.stopPropagation(); // NgÄƒn sá»± kiá»‡n click lan ra body
        toggleMusic();
      });

      // Cáº­p nháº­t tráº¡ng thÃ¡i nÃºt nháº¡c khi click vÃ o body
      bgMusic.onplay = () => {
         isPlaying = true;
         musicBtn.style.animationPlayState = "running";
         musicBtn.style.opacity = "1";
      };

      /*
       * KHá»I CHáº Y
       */
      createStars();

      // Táº¡o text & áº£nh Ä‘á»‹nh ká»³
      setInterval(createFloatingText, 2000);
      setInterval(createFloatingImage, 4000);
    </script>
  </body>
</html>
